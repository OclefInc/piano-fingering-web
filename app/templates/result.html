{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Piano Fingering Results</h1>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="flash-messages">
        {% for message in messages %}
        <p>{{ message }}</p>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <div class="result-container">
        <h2>Processing Complete</h2>
        <p><strong>Hand Size:</strong> {{ hand_size }}</p>
        <p><strong>Output File:</strong> {{ filename }}</p>

        {% if file_exists %}
        <a href="{{ url_for('app.download_file', filename=filename) }}" class="download-btn">Download Processed File</a>
        {% else %}
        <p class="error">The output file could not be found. Processing may have failed.</p>
        {% endif %}
    </div>

    <a href="{{ url_for('app.index') }}" class="back-link">Process another file</a>
</div>
{% endblock %}